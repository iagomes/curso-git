<template>
    <div class="slds-section slds-is-open divHist" data-product-id={prod.pbeExternalId}>
        <h3 class="slds-section__title">
            <lightning-button
                class="slds-theme_base slds-section__title-action"
                name="historicSection" icon-position="left"
                variant="base" label="Histórico " value={prod.pbeExternalId}
                icon-name="utility:switch">
                    <!-- onclick={closeSection}> -->
            </lightning-button>
        </h3>
    </div>
    <div>
        <div class="slds-section__content" data-product-id={prod.pbeExternalId}>
            <table
                class="colorborderblue slds-table slds-no-row-hover slds-table_bordered slds-table_striped slds-table_col-bordered">
                <thead>
                    <tr class="slds-text-title_caps">
                        <th>
                            <div class="slds-text-align_center"
                                title="Código e Nome">
                                Código e Nome </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Data emissão">
                                Data
                                emissão</div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Número do registro">
                                Número do registro</div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Valor Unitário">
                                Valor
                                Unitário</div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Quantidade">
                                Quantidade
                            </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Unidade de medida">
                                Unidade de medida
                            </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Status do registro">
                                Status do registro
                            </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Score do produto">
                                Score do produto
                            </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Score do registro">
                                Score do registro
                            </div>
                        </th>
                        <th>
                            <div class="slds-text-align_center"
                                title="Centro de Distribuição">
                                Centro de
                                Distribuição</div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={HistoricList} for:item="prod">
                            <tr class="slds-hint-parent" key={prod}>
                                <td>
                                    <div class="slds-text-align_center"
                                        style="font-size: 13px;">
                                        <p><span style="font-family:'Salesforce Sans';"><strong>{prod.codNomeCli}</strong></span>
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center"
                                        style="font-size: 13px;">
                                        <p><span style="font-family:'Salesforce Sans';"><strong>{prod.dataPedido}</strong></span>
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><span><strong><a href="javascript:void(0)" data-id={prod.pedidoId} onclick={redirectPedido}>{prod.nroPedido}</a></strong></span>
                                            
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><span><strong>
                                                <lightning-formatted-number
                                                        value={prod.vlrUnitatio}
                                                        format-style="currency"
                                                        currency-code="BRL">
                                                </lightning-formatted-number>
                                            </strong></span>
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><span><strong>{prod.qtd}</strong></span>
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><span><strong>{prod.undMedida}</strong></span>
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><strong>{prod.status}</strong></p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><strong>{prod.margemPrd}</strong></p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><strong>{prod.margemPedido}</strong></p>
                                    </div>
                                </td>
                                <td>
                                    <div class="slds-text-align_center" style="font-size: 13px;">
                                        <p><strong>{prod.centroDistribuicao}</strong>
                                        </p>
                                    </div>
                                </td>
                            </tr>
                    </template>
                </tbody>
                <thead if:true={HistoricList}>
                    <td >
                        <div if:false={isFirstPage}  >
                            <input type="button" value="Anterior" onclick={handlePrev} disabled={isFirstPage} style="width:100px"/>
                        </div>
                    </td>
                    <td >
                        <div if:false={isLastPage}  >
                            <input type="button" value="Próximo"   onclick={handleNext} disabled={isLastPage} style="width:100px"/>
                        </div>
                    </td>
                </thead>
        </table>
        </div>
    </div>
</template>